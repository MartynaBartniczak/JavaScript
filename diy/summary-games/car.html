<style>
    .track {
        background: #84ddff;
        border-bottom: 5px solid #000;
        padding-top: 100px;
        overflow: hidden;
    }

    .car {
        background: #c00;
        width: 30px;
        height: 20px;
    }
</style>
<div id="game"></div>
<script src="../../vendor/jquery.js"></script>
<script>
  $(function () {
    var $car = $('<div>').addClass('car');
    var $track = $('<div>').addClass('track');
    var $game = $('#game');

    var trackLength;
    var carSpeed = 0;
    var carDistance = 0;
    var gasPressed = false;
    var acceleration = 200;
    var deceleration = -1;
    var gameLoopId;

    $track.append($car);
    $game.append($track);

    trackLength = $track.width();

    gameLoopId = setInterval(function () {
      if (carDistance >= trackLength) {
        clearInterval(gameLoopId);
        alert('END');
        return;
      }

      var dTime = 0.010;
      if (gasPressed === true) {
        carSpeed = carSpeed + acceleration * dTime;
      } else {
        carSpeed = Math.max(0, carSpeed + carSpeed * deceleration * dTime);
      }

      carDistance = carDistance + carSpeed * dTime;
      $car.css('margin-left', carDistance);
    }, 10);

    $(window).on('keydown', function (event) {
      console.log('keydown');
      if (event.keyCode === 32) {
        // spacebar pressed
        gasPressed = true;
      }
    }).on('keyup', function (event) {
      if (event.keyCode === 32) {
        gasPressed = false;
      }
    })
  })
</script>